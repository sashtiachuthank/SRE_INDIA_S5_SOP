{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":""},{"location":"#sre_distributed_india_s5-squadians","title":"SRE_DISTRIBUTED_INDIA_S5 Squadians !!","text":""},{"location":"CPC_Disk_Addition/CPC_Disk_Addition/","title":"CPC Disk Addition","text":"<p>This article helps you to create and add a new virtual disk to an existing Linux virtual machine on CPC. Here are the steps for adding a new virtual disk on a Linux virtual machine (X86).  </p> <p>\ud83d\udccc  No downtime is required for this activity</p> <p>Step: 1</p> <p>Search for the respective host in the CPC portal based on the IMAP or project ID and click it to open further. </p> <p></p> <p>Step: 2</p> <p>Once we got the host screen, check the list of existing disk volumes. Use the \"Edit Volumes\" option for adding new volume to the host.</p> <p></p> <p>Step: 3</p> <p>The \"Edit Volumes\" screen will be like this. In that click the \"Add Disk +\" option.</p> <p></p> <p>Step: 4</p> <p>Select the required disk space and use the \"Add Volumes\" option for volume addition.</p> <p></p> <p>Step: 5</p> <p>Post that you will be prompted with the CPC request ID.</p> <p></p> <p>Step: 6</p> <p>In sometime, you will be receiving a task successfull completion mail. Once you recieved such mail please proceed with the below steps.</p> <p>If you didn't receive such mail then please reach to the #cirrus-platform-support slack channel further assistance.</p> <p></p> <p>Step: 7</p> <p>Please execute the below command. If you are able to see the newly added disk then the CPC disk addition request is succeeded. </p> <p>If not able to see the disk then reach to the #cirrus-platform-support slack channel for support.</p> <p><pre><code># lsblk\n</code></pre> </p>"},{"location":"CPC_Disk_Addition/CPC_Disk_Addition/#use-below-commands-for-expanding-the-added-disk-space-to-the-volume-group-and-then-the-required-size-to-the-logical-volume","title":"Use below commands for expanding the added disk space to the volume group and then the required size to the logical volume.","text":"<p><pre><code># pvcreate /dev/sdd\n# vgextend datavg /dev/sdd\n# lvextend -L +20G /dev/mapper/datavg-tempdb2 -r\n</code></pre> </p> <p>Before expansion: <pre><code>[root@g53xr00007521 ~]# df -hTP /tempdb2\nFilesystem                Type  Size  Used Avail Use% Mounted on\n/dev/mapper/datavg-tempdb2 xfs    30G   28G  1.6G  95% /tempdb2\n[root@g53xr00007521 ~]# \n</code></pre> After expansion: <pre><code>[root@g53xr00007521 ~]# df -hTP /tempdb2\nFilesystem                Type  Size  Used Avail Use% Mounted on\n/dev/mapper/datavg-tempdb2 xfs    50G   29G   22G  57% /tempdb2\n[root@g53xr00007521 ~]#\n</code></pre></p>"},{"location":"Disruptive_OS_Activity_Prerequisites/Disruptive_OS_Activity_Prerequisites/","title":"Disruptive OS Activity Prerequisites","text":"<p>Below listed are the Pre &amp; Post check steps to be followed in DISRUPTIVE activities.</p> <ol> <li>Initially, before starting the activity save the log of your current putty session login and start the activity.  </li> <li>Check the uptime, system date time, redhat release version, uname details (This must be documented and shared where-ever required) <pre><code># uptime;date;cat /etc/redhat-release;uname -a\n</code></pre></li> <li>Check all available network interfaces. <pre><code># ifconfig -a\n</code></pre></li> <li>Check the network statistics. <pre><code># netstat -tulpn\n</code></pre></li> <li>Check all the existing services details (which includes enabled/disabled &amp; active/inactive services) <pre><code># systemctl list-unit-files\n</code></pre></li> <li>Check the recursive disk utilization status. (If required add new disk to server and extend the LV) <pre><code># cat /etc/fstab\n# df -hTP\n</code></pre></li> <li>Check the subscription manager status. <pre><code># subscription-manager status\n# subscription-manager list --installed\n</code></pre></li> <li>Check the enabled and available repositories.  <pre><code># yum repolist all \n</code></pre></li> <li>Check and list out all the installed packages along with versions. <pre><code># rpm -qa | nl\n</code></pre></li> <li> <p>Check and ensure the processes of applications and its related middlewares are in stopped state.</p> <p>a. Check the cronjobs for all active cron jobs for the current user: <pre><code># cronjob -l            ------&gt; active cron jobs for the current user\n# crontab -u user -l    ------&gt; show cron jobs for a specific user:\n</code></pre> b. The process of listing all the cron jobs for all users, we can use the below bash script. <pre><code>!/bin/bash\nfor user in $(cut -f1 -d: /etc/passwd); do\n    echo \"Crontab for $user:\"\n    sudo crontab -u $user -l\n    echo \"\"\ndone\n</code></pre></p> </li> <li> <p>Backup the fstab file, then comment out the mounts other than system related ones.</p> </li> </ol> <p>Take backup of                  sshd configuration file.                 pam.d authentication &amp; configuration files.                 DUO configuration files.</p> <ol> <li> <p>Keep ready with the root passwd. For safer side reset the root passwd of own.</p> </li> <li> <p>Before the snapshot VM expires, </p> <p>a.  The application team should validate the servers and get back to us for concerns. b.  We must resolve the raised issues.</p> <p>Else revert the snapshot from VM.</p> </li> </ol> <p>Note: Before making any changes in system files take a backup of that file in same location </p>"},{"location":"Disruptive_OS_Activity_Prerequisites/Disruptive_OS_Activity_Prerequisites/#useful-links","title":"Useful Links:","text":"<p>For Leapp package - https://access.redhat.com/articles/3664871 </p> <p>DUO Configuration - https://w3.ibm.com/w3publisher/ibm2fa/server-admins/unix </p> <p>QRadar Configuration - https://w3.ibm.com/w3publisher/ciso-security-log-standard/server-os/linux/rhel-centos-8-0-2</p> <p>QRadar Validation - https://mss.secintel.ibm.com/qradar_tools/</p> <p>Falcon Installation - https://pages.github.ibm.com/edr-ciso/documentation/linux_installation.html </p> <p>For Falcon package - https://github.ibm.com/cisoedr/crowdstrike-sensor/tree/master/WW/Linux/N </p> <p>Falcon Validation - https://cs-host-verification-prod.wdc1a.cirrus.ibm.com/</p>"},{"location":"Merge_AAP_GIT/Merge_AAP_GIT/","title":"How to MERGE AAP and GIT accounts","text":"<p>Please follow the below steps for linking the AAP and GIT accounts. Post the two accounts got linked we can execute the scripts to the hosts via AAP.</p> <p>Step: 1</p> <p></p> <p>Step: 2</p> <p></p> <p>Step: 3</p> <p></p> <p>Step: 4</p> <p></p> <p>Step: 5</p> <p></p> <p>Step: 6</p> <p></p> <p>Step: 7</p> <p></p> <p>Step: 8</p> <p></p> <p>Step: 9</p> <p></p> <p>Step: 10</p> <p></p> <p>Step: 11</p> <p></p>"},{"location":"SPLUNK_PP_Validation/SPLUNK_Pending_Patches_Validation/","title":"SPLUNK Pending Patches Validation","text":"<p>This article helps you for validating the pending patches extracted from SPLUNK portal.</p> <p>Step: 1</p> <p>Extract the pending patches CSV file from SPLUNK portal.</p> <p></p> <p>Step: 2</p> <p>In the exported excel, based on IMAP, get the Hostname and its PATCH_ADVISORY_ID</p> <p></p> <p>Step: 3</p> <p>Remove the duplicate PATCH_ADVISORY_IDs </p> <p></p> <p>Step: 4</p> <p>Edit and replace the PATCH_ADVISORY_IDs in below command.  <pre><code>yum update --advisory=RHSA-2023:0110 --assumeno;\nyum update --advisory=RHSA-2023:5997 --assumeno\n</code></pre></p> <p>Step: 5</p> <p>In AAP, run an ad-hoc job as shown below.</p> <p></p> <p>Step: 6</p> <p>Validate the job output and list out the applicable and not applicable advisories.</p> <pre><code>    a. If the package name is listed APPLICABLE\n    b. If the package name is not listed, then it is NOT_APPLICABLE\n</code></pre> <p>ad_hoc_command_701863.txt</p> <p>Step: 7</p> <p>As per the above job output the 2 advisories are not appliable in the respective hosts.</p> <p>Step: 8</p> <p>To mark them as not applicable in SPLUNK portal, in AAP use the below template</p> <pre><code>    ***\u201cAO_DS_JT_Proactive_Patching_NotApplicable\u201d***\n</code></pre> <p>Step: 9</p> <p>For above template, use as per the below format for marking the not applicable advisories.</p> <pre><code>g43xr00006755.az3.ash.cpc.ibm.com, RHSA-2023:5997, platform-python, Not_Applicable\ng43xr00006755.az3.ash.cpc.ibm.com, RHSA-2023:5997, python3-libs, Not_Applicable\ng43xr00006755.az3.ash.cpc.ibm.com, RHSA-2023:0110, sqlite-libs, Not_Applicable\ng43xr00006757.az3.ash.cpc.ibm.com, RHSA-2023:5997, platform-python, Not_Applicable\n\u201c   \u201c   \u201c   \u201c\n\u201c   \u201c   \u201c   \u201c\n\u201c   \u201c   \u201c   \u201c\n\u201c   \u201c   \u201c   \u201c\n</code></pre>"}]}